# Coturn TURN Server Configuration
# https://github.com/coturn/coturn

# TURN listener port for UDP and TCP
listening-port=3478

# TLS listening port for TURN over TLS
tls-listening-port=5349

# Alternative listening port for UDP and TCP
alt-listening-port=3479

# Listener IP
# listening-ip=0.0.0.0

# Relay address for media traffic
# relay-ip=YOUR_PUBLIC_IP

# External IP (for NAT)
# external-ip=YOUR_PUBLIC_IP/YOUR_PRIVATE_IP

# Realm for TURN authentication
realm=yourdomain.com

# Use long-term credential mechanism
lt-cred-mech

# Use secret-based authentication (matches Erlang turn_credentials module)
use-auth-secret
static-auth-secret=your-turn-secret-change-in-production

# User quota
user-quota=12
total-quota=1200

# Max bandwidth per session (bytes per second)
max-bps=0

# Timeout for sessions (seconds)
stale-nonce=600

# Certificate for TLS (get from Let's Encrypt in production)
# cert=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# pkey=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# Cipher list for TLS
# cipher-list="ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:ECDH+3DES:DH+3DES:RSA+AES:RSA+3DES:!ADH:!AECDH:!MD5"

# Logging
log-file=/var/log/coturn/turnserver.log
verbose

# Process settings
proc-user=turnserver
proc-group=turnserver

# Fingerprint in TURN message
fingerprint

# Mobility support
mobility

# No multicast peers
no-multicast-peers

# Disable CLI
no-cli

# Performance: socket buffer size
max-allocate-lifetime=3600
